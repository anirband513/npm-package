{{#hasAntd}}
import { Card, Row, Col, Button, Typography, Carousel, Tag, Space } from 'antd'
import { ShoppingCartOutlined, HeartOutlined, StarFilled, RightOutlined } from '@ant-design/icons'
{{/hasAntd}}
{{#hasAxios}}
import { useState, useEffect } from 'react'
import axios from 'axios'
{{/hasAxios}}
{{#hasRouter}}
import { Link } from 'react-router-dom'
{{/hasRouter}}
{{#hasRedux}}
import { useDispatch } from 'react-redux'
import { addToCart } from '../store/cartSlice'
{{/hasRedux}}

{{#hasAntd}}
const { Title, Paragraph, Text } = Typography
{{/hasAntd}}

{{#isTypeScript}}
{{#hasAxios}}
interface Product {
  id: number
  title: string
  price: number
  image: string
  category: string
  rating: {
    rate: number
    count: number
  }
}
{{/hasAxios}}

function Home(): JSX.Element {
{{/isTypeScript}}
{{^isTypeScript}}
function Home() {
{{/isTypeScript}}
  {{#hasAxios}}
  const [featuredProducts, setFeaturedProducts] = useState{{#isTypeScript}}<Product[]>{{/isTypeScript}}([])
  const [loading, setLoading] = useState(false)
  {{#hasRedux}}
  const dispatch = useDispatch()
  {{/hasRedux}}

  useEffect(() => {
    const fetchProducts = async () => {
      setLoading(true)
      try {
        const response = await axios.get('https://fakestoreapi.com/products?limit=8')
        setFeaturedProducts(response.data)
      } catch (error) {
        console.error('Error fetching products:', error)
      } finally {
        setLoading(false)
      }
    }
    fetchProducts()
  }, [])

  {{#hasRedux}}
  const handleAddToCart = (product{{#isTypeScript}}: Product{{/isTypeScript}}) => {
    dispatch(addToCart(product))
  }
  {{/hasRedux}}
  {{/hasAxios}}

  return (
    {{#hasAntd}}
    <div>
      {/* Hero Carousel */}
      <Carousel autoplay style={{ marginBottom: 32 }}>
        <div>
          <div style={{
            height: '400px',
            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            color: 'white',
            textAlign: 'center',
            padding: '40px',
          }}>
            <div>
              <Title level={1} style={{ color: 'white', marginBottom: 16 }}>
                Welcome to {{projectName}}
              </Title>
              <Paragraph style={{ fontSize: '18px', color: 'rgba(255,255,255,0.9)', marginBottom: 24 }}>
                Discover amazing products at great prices
              </Paragraph>
              {{#hasRouter}}
              <Link to="/products">
                <Button type="primary" size="large" icon={<RightOutlined />}>
                  Shop Now
                </Button>
              </Link>
              {{/hasRouter}}
            </div>
          </div>
        </div>
        <div>
          <div style={{
            height: '400px',
            background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            color: 'white',
            textAlign: 'center',
            padding: '40px',
          }}>
            <div>
              <Title level={1} style={{ color: 'white', marginBottom: 16 }}>
                Special Offers
              </Title>
              <Paragraph style={{ fontSize: '18px', color: 'rgba(255,255,255,0.9)', marginBottom: 24 }}>
                Up to 50% off on selected items
              </Paragraph>
              <Button type="primary" size="large" danger>
                View Deals
              </Button>
            </div>
          </div>
        </div>
      </Carousel>

      {/* Category Cards */}
      <div style={{ marginBottom: 32 }}>
        <Title level={2} style={{ marginBottom: 24 }}>Shop by Category</Title>
        <Row gutter={[16, 16]}>
          <Col xs={24} sm={12} md={6}>
            <Card
              hoverable
              cover={
                <div style={{ 
                  height: 150, 
                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  color: 'white',
                  fontSize: '48px'
                }}>
                  üëî
                </div>
              }
            >
              <Card.Meta
                title="Men's Clothing"
                description="Explore our collection"
              />
            </Card>
          </Col>
          <Col xs={24} sm={12} md={6}>
            <Card
              hoverable
              cover={
                <div style={{ 
                  height: 150, 
                  background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  color: 'white',
                  fontSize: '48px'
                }}>
                  üëó
                </div>
              }
            >
              <Card.Meta
                title="Women's Clothing"
                description="Latest fashion trends"
              />
            </Card>
          </Col>
          <Col xs={24} sm={12} md={6}>
            <Card
              hoverable
              cover={
                <div style={{ 
                  height: 150, 
                  background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  color: 'white',
                  fontSize: '48px'
                }}>
                  üíç
                </div>
              }
            >
              <Card.Meta
                title="Jewelry"
                description="Shine bright"
              />
            </Card>
          </Col>
          <Col xs={24} sm={12} md={6}>
            <Card
              hoverable
              cover={
                <div style={{ 
                  height: 150, 
                  background: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  color: 'white',
                  fontSize: '48px'
                }}>
                  üì±
                </div>
              }
            >
              <Card.Meta
                title="Electronics"
                description="Tech gadgets"
              />
            </Card>
          </Col>
        </Row>
      </div>

      {/* Featured Products */}
      {{#hasAxios}}
      <div>
        <Title level={2} style={{ marginBottom: 24 }}>Featured Products</Title>
        <Row gutter={[16, 16]}>
          {featuredProducts.map((product) => (
            <Col xs={24} sm={12} md={8} lg={6} key={product.id}>
              <Card
                hoverable
                loading={loading}
                cover={
                  {{#hasRouter}}
                  <Link to={`/product/${product.id}`}>
                    <div style={{ 
                      height: 200, 
                      display: 'flex', 
                      alignItems: 'center', 
                      justifyContent: 'center',
                      padding: 16,
                      background: '#fff'
                    }}>
                      <img
                        alt={product.title}
                        src={product.image}
                        style={{ maxHeight: '100%', maxWidth: '100%', objectFit: 'contain' }}
                      />
                    </div>
                  </Link>
                  {{/hasRouter}}
                  {{^hasRouter}}
                  <div style={{ 
                    height: 200, 
                    display: 'flex', 
                    alignItems: 'center', 
                    justifyContent: 'center',
                    padding: 16,
                    background: '#fff'
                  }}>
                    <img
                      alt={product.title}
                      src={product.image}
                      style={{ maxHeight: '100%', maxWidth: '100%', objectFit: 'contain' }}
                    />
                  </div>
                  {{/hasRouter}}
                }
                actions={[
                  <HeartOutlined key="wishlist" />,
                  {{#hasRedux}}
                  <ShoppingCartOutlined key="cart" onClick={() => handleAddToCart(product)} />,
                  {{/hasRedux}}
                  {{^hasRedux}}
                  <ShoppingCartOutlined key="cart" />,
                  {{/hasRedux}}
                ]}
              >
                <Card.Meta
                  title={
                    <Text ellipsis style={{ width: '100%' }}>
                      {product.title.substring(0, 50)}
                    </Text>
                  }
                  description={
                    <Space direction="vertical" style={{ width: '100%' }}>
                      <div>
                        <StarFilled style={{ color: '#faad14' }} />
                        <Text style={{ marginLeft: 8 }}>
                          {product.rating.rate} ({product.rating.count})
                        </Text>
                      </div>
                      <Text strong style={{ fontSize: '18px', color: '#1890ff' }}>
                        ${product.price.toFixed(2)}
                      </Text>
                    </Space>
                  }
                />
              </Card>
            </Col>
          ))}
        </Row>
      </div>
      {{/hasAxios}}
      {{^hasAxios}}
      <div>
        <Title level={2}>Featured Products</Title>
        <Paragraph>Enable Axios to display real products from API</Paragraph>
      </div>
      {{/hasAxios}}
    </div>
    {{/hasAntd}}
    {{^hasAntd}}
    <div className="ecommerce-home">
      <div className="hero">
        <h1>Welcome to {{projectName}}</h1>
        <p>Discover amazing products</p>
        {{#hasRouter}}
        <Link to="/products">
          <button>Shop Now</button>
        </Link>
        {{/hasRouter}}
      </div>
      {{#hasAxios}}
      <div className="products-grid">
        {featuredProducts.map(product => (
          <div key={product.id} className="product-card">
            <img src={product.image} alt={product.title} />
            <h3>{product.title}</h3>
            <p>${product.price}</p>
            {{#hasRedux}}
            <button onClick={() => handleAddToCart(product)}>Add to Cart</button>
            {{/hasRedux}}
          </div>
        ))}
      </div>
      {{/hasAxios}}
    </div>
    {{/hasAntd}}
  )
}

export default Home
